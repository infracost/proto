syntax = "proto3";

package infracost.parser.terraform;

import "infracost/parser/address.proto";
import "infracost/parser/metadata.proto";
import "infracost/parser/terraform/modules/loader.proto";
import "infracost/parser/terraform/resource.proto";

message ModuleResult {
  map<string, ModuleResultList> modules = 1;
  parser.SourceRange source_range = 2;
  uint64 definition_flags = 3;
  optional parser.Address address = 4;
  map<string, ProviderResult> providers = 5;
  optional modules.LoadedModule load_data = 6;
  string version = 7;
  repeated Resource resources = 8;
  repeated Output outputs = 9;
}

message ModuleResultList {
  repeated ModuleResult results = 1;
}

message ProviderResult {
  string name = 1;
  map<string, string> default_tags = 2;
  string filename = 3;
  int64 start_line = 4;
  int64 end_line = 5;
}
