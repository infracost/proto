syntax = "proto3";

package infracost.parser.cloudformation;

import "infracost/parser/metadata.proto";

message Value {
  oneof value {
    NullValue null = 1;
    ScalarValue scalar = 2;
    ListValue list = 3;
    MapValue map = 4;
  }
  parser.SourceRange source_range = 5;
  uint64 flags = 6;
}

message NullValue {
  // Empty
}

// buf:lint:ignore ENUM_ZERO_VALUE_SUFFIX
enum ScalarType {
  SCALAR_TYPE_STRING = 0;
  SCALAR_TYPE_BOOL = 1;
  SCALAR_TYPE_INT = 2;
  SCALAR_TYPE_FLOAT = 3;
}

message ScalarValue {
  ScalarType type = 1;
  oneof value {
    string string_value = 2;
    bool bool_value = 3;
    int64 int_value = 4;
    double double_value = 5;
  }
}

message ListValue {
  repeated Value values = 1;
}

message MapValue {
  repeated MapEntry entries = 1;
}

message MapEntry {
  Value key = 1;
  Value value = 2;
}
